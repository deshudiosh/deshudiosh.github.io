---
permalink: /orbicular
root: ./projects/orbicular/
---
<!DOCTYPE html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;1,200&family=Libre+Franklin:ital,wght@0,400;1,100;1,200&family=Merriweather+Sans:wght@300;400&display=swap" rel="stylesheet">

        <link rel="apple-touch-icon" sizes="180x180" href="{{page.root}}/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="{{page.root}}/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="{{page.root}}/favicon/favicon-16x16.png">
        <link rel="manifest" href="{{page.root}}/favicon/site.webmanifest">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css">
        
        <link type="text/css" rel="stylesheet" href="../../assets/header.css"/>
        <link type="text/css" rel="stylesheet" href="{{page.root}}/orbicular.css"/>
    </head>
    <body>
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
        <script src="{{page.root}}/orbicular.js"></script>

        <div id="header">
            <div id="head_bar">
                <div id="head_content">
                    <div class="head_div" id="head_left_flex" onclick="location.href='https://pawelgrzelak.com';">
                        <img id="head_logo" src="../assets/logo.png"></img>
                        <p id="head_backto">pawelgrzelak.com</p>
                    </div>
                    <div class="head_div" id="head_right_flex" onclick="location.href='https://pawelgrzelak.com/contact';">
                        <p id="head_contact">pawelgrzelak.3d@gmail.com</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <img class="loader" src="{{page.root}}/assets/loader.gif">

            <h1 class="title">ORBICULAR</h1>

            <div class="box m-top-big">
                <p class="p-bigger m-top-0">orbicular <span class="italic">(adj.)</span></p>
                <p class="p_italic m-top-0"> round, circular, spherical, having the shape of an orb</p>
            </div>

            <p class="m-top-big">Generative constellation of planets, a combination of digital and non-digital art.<br>
            Created in collaboration with abstract painter
            <a href="https://www.instagram.com/tom.blameworth/">Tom Blameworth <i class="fa fa-instagram"></i></a><br></p>
            <p class="m-top">I took care of the code, Tom used paint. We shared the idea.</p>
            
            <figure>
                <video poster="{{page.root}}/assets/Orb 12018944.jpg" loop="true" autoplay muted>
                    <source src="{{page.root}}/assets/Orbicular_vid1_h264_1000kbps.mp4" type="video/mp4"/>
                </video>
                <figcaption>Examples of Orbicular variants</figcaption>
            </figure>

            <p>Each variant consists of at least one planet. 
            Every planet is textured with one of over 60 photographed painted "orbs". 
            Little moons, and stars are also bitmap-based, the rest of the picture is generated with code.</p>

            <h2 class="section">Part 1 - Traditional art</h2>

            <h3>Paint orbs:</h3>
            <p>Tom has developed a technique, where using paint and paper, he is able to create colorful orbs with natural, floral patterns.</p>
            <p>Some of them turned out very round:</p>   

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/2_flowing_patterns.jpg" data-fancybox="paint-orbs">
                    <figcaption>Paint orb on paper</figcaption>
                </figure>
            </div>

            <p>Those that didn't, but we thought are interesing, were cropped to a perfect circle,
            to be further modified programmaticaly (more details later).</p>
            <p>Some slight color corrections also happened at this stage:</p>

            <div class="figureContainer">
                <figure>
                    <a href="{{page.root}}/assets/orb_circulation_1.png" data-fancybox="paint-orbs" data-caption="Before">
                        <img src="{{page.root}}/assets/orb_circulation_1.jpg">
                    </a>
                    <figcaption>Before</figcaption>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/orb_circulation_2.png" data-fancybox="paint-orbs" data-caption="After">
                        <img src="{{page.root}}/assets/orb_circulation_2.jpg">
                    </a>
                    <figcaption>After</figcaption>
                </figure>
            </div>

            <hr>

            <p class="m-top-big">The whole collection:</p>
            <figure>
                <a href="{{page.root}}/assets/2_all_of_them.png" data-fancybox="paint-orbs" data-caption="12 naturally formed orbs, and 52 cropped ones.">
                    <img src="{{page.root}}/assets/2_all_of_them.jpg">
                </a>
                <figcaption>12 naturally formed orbs, and 52 cropped ones.</figcaption>
            </figure>

            <h2 class="section">Part 2 - Digital art</h2>
            <p class="m-top-mid">Generative - what does it mean?</p>
            <p>At the root of algorithm constructing each picture, there is a single number called <span class="italic">seed</span>.
            That seed is used in all randomization functions throughout the project.</p>
            <p>Everything - which images to use by each planet; light direction; number of orbs and their position and size;
            presence or lack of cities; moons; planetary rings - is derived from that seed. 
            Every seed yields different Orbicular variant, and one particular seed always yields the same output.</p>

            <hr>

            <h3>Light</h3>
            <p>One of the main randomized properties is light direction.<br>
            It affects nearly every aspect of the image:</p>
            <ul>
                <li>which side of the planet is lit</li>
                <li>shadow position under the orb</li>
                <li>if city is at daytime or nighttime</li>
                <li>which side of the buildings should be brighter</li>
                <li>gradient on the background</li>
            </ul>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/lightdir_1.jpg" data-fancybox="light">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/lightdir_2.jpg" data-fancybox="light">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/lightdir_3.jpg" data-fancybox="light">
                </figure>
            </div>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/1_light_front.jpg" data-fancybox="light" data-caption="Frontal light">
                    <figcaption>Frontal light</figcaption>
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/1_light_back.jpg" data-fancybox="light" data-caption="Back light">
                    <figcaption>Back light</figcaption>
                </figure>
            </div>

            <hr>

            <h3>Elements</h3>
            <p>Every planet has a chance to spawn each of those fully generative elements:<br></p>

            <figure>
                <a href="{{page.root}}/assets/3_orb.png" data-fancybox="elements">
                    <img src="{{page.root}}/assets/3_orb.jpg">
                </a>
            </figure>

            <div class="figureContainer">
                <figure>
                    <a href="{{page.root}}/assets/3_city.png" data-fancybox="elements">
                        <img src="{{page.root}}/assets/3_city.jpg">
                    </a>
                    <figcaption>City</figcaption>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/3_ring.png" data-fancybox="elements">
                        <img src="{{page.root}}/assets/3_ring.jpg">
                    </a>
                    <figcaption>Planetary ring</figcaption>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/3_moon.png" data-fancybox="elements">
                        <img src="{{page.root}}/assets/3_moon.jpg">
                    </a>
                    <figcaption>Moon</figcaption>
                </figure>
            </div>
            
            <hr>

            <h3>City</h3>
            <p>Each city is unique. Randomization begins with very basic characteristics like width and height, or number of buildings,
            to more complex like rotation, presence of windows, dots that make it blend near the ground level.
            City colors match the planet, and also the lightning.</p>

            <!-- <figure>
                <img src="{{page.root}}/assets/city_examples.jpg">
                <figcaption>Cities vary in sizes, and building count.</figcaption>
            </figure> -->

            <div class="figureContainer">
                <figure>
                    <a href="{{page.root}}/assets/city_1.png" data-fancybox="city">
                        <img src="{{page.root}}/assets/city_1.jpg">
                    </a>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/city_2.png" data-fancybox="city">
                        <img src="{{page.root}}/assets/city_2.jpg">
                    </a>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/city_3.png" data-fancybox="city">
                        <img src="{{page.root}}/assets/city_3.jpg">
                    </a>
                </figure>
                <figure>
                    <a href="{{page.root}}/assets/city_4.png" data-fancybox="city">
                        <img src="{{page.root}}/assets/city_4.jpg">
                    </a>
                </figure>
            </div>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/city_lightdir_1.jpg" data-fancybox="city">
                    <figcaption>Day - left light</figcaption>
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/city_lightdir_2.jpg" data-fancybox="city">
                    <figcaption>Day - right light</figcaption>
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/city_lightdir_3.jpg" data-fancybox="city">
                    <figcaption>Night</figcaption>
                </figure>
            </div>

            <figure>
                <a href="{{page.root}}/assets/building_rotation.png" data-fancybox="city">
                    <img src="{{page.root}}/assets/building_rotation.jpg" style="width:50%">
                </a>
                <figcaption>Building rotation</figcaption>
            </figure>

            <hr>

            <h3>Planetary ring</h3>
            <p>Many semi-transparent white ellipses combined together construct every planetary ring.
            Varying outer radius, inner radius and rotation attributes control the look.
            Ellipses thickness is randomized to break the ring's otherwise uniform look.</p>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/ring_1.jpg" data-fancybox="ring">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/ring_2.jpg" data-fancybox="ring">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/ring_3.jpg" data-fancybox="ring">
                </figure>
            </div>
            <figcaption>Planetary ring edge cases</figcaption>

            <hr>

            <h3>Color sampling</h3>
            <p>I developed a custom color sampling module for this project, along with previewer.<br>
            The procedure is to get a slightly blurred image from the planet, and set the color at the top edge as a primary (marked with a big red dot).
            Then create a matrix of sample points (little red dots), and find the secondary color, which will be visually as distant from the primary one as possible.
            Distant in terms of hue-saturation-lightness color space. Hue difference is the most important part of the equation.</p>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/colorsampler_1.jpg" data-fancybox="color">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/colorsampler_2.jpg" data-fancybox="color">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/colorsampler_3.jpg" data-fancybox="color">
                </figure>
            </div>
            <figcaption>Color swatches preview (click to enlarge)</figcaption>

            <hr>

            <h3>Background</h3>
            <p>Background is simple: gradient corresponds with light direction;
            colors are darkened swatches extracted from the biggest orb;
            stars are little randomly scattered grayscale images.
            There is also a high chance of falling star appearing.</p>
                
            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/background_1.jpg" data-fancybox="bg">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/background_2.jpg" data-fancybox="bg">
                </figure>
            </div>
            
            <hr>
            
            <h3>Composition</h3>
            <p>Very technical solution, to visually very influential aspect is planet positioning. There are no predetermined compositions in Orbicular.
                Planets are spawned in a sequence, ensuring there aren't any unwanted collisions, and also fitting the margin.</p>
            <p>Collision detection system is based on circles. Rules are:
                <ul>
                    <li>Red circles can't collide with anything (except for circles of the same planet).</li>
                    <li>Green and orange circles behave the same as red, but are allowed to go past the blue margin.</li>
                </ul>
            </p>
            
            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/collisions_1.jpg" data-fancybox="compo">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/collisions_2.jpg" data-fancybox="compo">
                </figure>
            </div>
            
            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/collisions_3.jpg" data-fancybox="compo">
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/collisions_4.jpg" data-fancybox="compo">
                </figure>
            </div>
            
            <p>Falling star (orange) collision detection serves two purposes. 
            First, it makes it occupy only free space in the composition. 
            Second, it prevents "streaks" from ever starting behind any other objects.
            Small middle-circle allows for close contact though.</p>
            <!-- <h3>Moon</h3>
            <p>-rozne pozycje moona, zawsze widoczny
                <br>-gradient maskujacy
            </p> -->
                    
            <hr>
                    
            <h3>Masking</h3>
            <p>One of the more challenging aspects of the project was to reconcile image-based elements with those drawn in code.
            For example, part of the planetary rim is always hiding behind the planet.</p>
            <!-- <a href="{{page.root}}/assets/orb_circulation_1.png" data-fancybox="paint-orbs" data-caption="Before">
                <img src="{{page.root}}/assets/orb_circulation_1.jpg">
            </a>
            <figcaption>Before</figcaption> -->

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/mask_ring_1.jpg" data-fancybox="masking" data-caption="With mask">
                    <figcaption>With mask</figcaption>
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/mask_ring_2.jpg" data-fancybox="masking" data-caption="Without mask">
                    <figcaption>Without mask</figcaption>
                </figure>
            </div>

            <!-- <p>Of course, the most obvious mask is the one cutting out the silhouette of the planet, which is also always unique.
            Although even here the matter gets complicated because some textures have their "natural" alpha channel.</p>
            <p>To shed light on the planet another one was needed:</p> -->
            
            <!-- <p>There are more: for example mask of combined planet and city, needed to cast shadow.</p> -->
            
            <hr>

            <h3>Grain</h3>
            <p>On top of everything I added clearly visible grain. It helps to merge all elements together, and move away from the synthetic look.</p>

            <div class="figureContainer">
                <figure>
                    <img src="{{page.root}}/assets/grain_1.jpg" data-fancybox="grain" data-caption="With grain">
                    <figcaption>With grain</figcaption>
                </figure>
                <figure>
                    <img src="{{page.root}}/assets/grain_2.jpg" data-fancybox="grain" data-caption="Without grain">
                    <figcaption>Without grain</figcaption>
                </figure>
            </div>

            <h2 id="thankyou">Thank you</h3>
                    
        </div>        
    </body>
</html>

